{% extends "base.html" %}

{% load static %}

{% block title %}お気に入りに追加{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock %}

{% block header %}
    <h1>お気に入りに追加しますか？</h1>
{% endblock %}

{% block content %}

{% comment %} バリデーションエラーの表示 {% endcomment %}
{% if form.errors %}
    <div style="color: red; font-weight: bold;">
        <ul>
            {% for field in form %}
                {% for error in field.errors %}
                    <li>{{ field.label }}：{{ error }}</li>
                {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
{% endif %}

<form method="post">
    {% csrf_token %}

    <p>
        <label>記事タイトル：</label><br>
        {{ form.initial.article_title }}
        <input type="hidden" name="article_title" value="{{ form.initial.article_title }}">
    </p>
    <p>
        <label>記事URL：</label><br>
        {{ form.initial.article_url }}
        <input type="hidden" name="article_url" value="{{ form.initial.article_url }}">
    </p>
    <p>
        <label>記事画像：</label><br>
        <img class="article-thumbnail" src="{{ form.initial.article_img_url }}" alt="サムネイル">
        <input type="hidden" name="article_img_url" value="{{ form.initial.article_img_url }}">
    </p>
    <p>
        <label>記事公開日時：</label><br>
        {{ form.initial.published_at }}
        <input type="hidden" name="published_at" value="{{ form.initial.published_at|date:'Y-m-d' }}">
    </p>
    <p>
        <label>メモ：</label><br>
        {{ form.memo }}
    </p>

    <button type="submit" class="btn">登録する</button>
    <a href="javascript:history.back()" class="btn">戻る</a>
</form>
{% endblock %}